<!-- 变更日志
v1 2026-02-19: 初稿
-->

# 第六章 HIL：硬件在环测试

## 学习目标

1. 掌握HIL测试的标准架构，理解实时仿真器在HIL中的核心角色及其与水利控制系统的集成方式；
2. 理解SCADA闭环测试的设计方法，能够构建包含真实控制硬件和虚拟水网模型的完整闭环测试环境；
3. 掌握执行器响应验证的方法——闸门死区、滞后、非线性特性的HIL测试设计；
4. 理解通信链路测试的关键场景——延迟、丢包、带宽限制对控制性能的影响评估；
5. 掌握安全联锁机制的HIL验证方法，能够设计覆盖所有安全关键路径的测试方案。

> **前章回顾**：第五章完成了SIL测试的全部方法论——接口契约测试确认了软件通信的正确性，时序验证确认了计算满足实时约束，异常注入验证了软件的鲁棒性，背靠背测试确认了软件与算法的一致性。但SIL环境中的控制软件运行在PC或虚拟机上，通信经过协议仿真层而非真实网络，执行器的响应是理想化的模型。当控制软件部署到实际PLC/RTU硬件上、通过真实的工业以太网和光纤链路通信、驱动真实的闸门和泵站电控设备时，将暴露一系列SIL无法发现的问题。本章的HIL测试是控制系统在现场部署前的最后一道验证关卡。

---

## HIL测试的定位与价值

### 6.1.1 三级验证的最后关卡

HIL是在环验证三级体系中保真度最高、成本最大的阶段。其核心价值在于：将真实的控制硬件置于一个逼真但可控的仿真环境中，验证硬件-软件-通信的端到端集成。

**表6-1 HIL测试与SIL测试的关键差异**

| 维度 | SIL | HIL |
|------|-----|-----|
| 控制硬件 | PC/虚拟机 | 实际PLC/RTU/工业计算机 |
| 通信网络 | 协议仿真 | 真实工业网络 |
| 执行器模型 | 理想化（瞬时响应、线性） | 含死区、滞后、非线性 |
| 传感器模型 | 精确数值 | 含噪声、量化、故障模式 |
| 时钟约束 | 近实时（可微调） | 严格实时 |
| 环境因素 | 不考虑 | 可注入EMI、温度等 |
| 新增测试类型 | — | SCADA闭环、执行器验证、通信链路、安全联锁 |

### 6.1.2 HIL能发现什么

HIL测试专门发现"硬件引入"的问题：

**硬件兼容性**：PLC的I/O模块与传感器/执行器的信号匹配问题——例如4-20mA电流信号的标定偏差、数字量I/O的电平匹配、模拟量的分辨率和噪声。

**通信链路特性**：真实网络中的延迟、抖动、丢包和带宽限制。SIL中的协议仿真通常假设理想或参数化的通信模型，HIL则暴露真实网络设备（交换机、路由器、光电转换器）引入的实际特性。

**执行器动态特性**：闸门电动执行器的死区（小指令无响应）、滞后（方向切换时的延迟）、速率限制（最大开启/关闭速度）和位置反馈精度。这些特性在SIL中通常被理想化。

**电磁兼容性**：控制柜内强电设备（变频器、接触器）对信号线的干扰，可能导致传感器读数跳变或通信数据损坏。

**看门狗和复位行为**：硬件看门狗定时器在软件异常时的复位行为、PLC的冷启动/热启动恢复过程、电源中断后的数据保持和恢复。

---

## HIL测试架构

### 6.2.1 水利HIL测试平台架构

水利控制系统的HIL测试平台由三大子系统构成：

**实时仿真子系统**：运行水力学模型的实时仿真器，模拟整个水网的物理过程。仿真器必须满足严格的实时约束——每个仿真步长必须在规定时间内完成，不允许超限。实时仿真器通过I/O接口板卡向被测控制硬件输出"虚拟传感器"信号，并接收控制硬件输出的"控制指令"信号。

**被测控制子系统**：实际的控制硬件——PLC、RTU、工业计算机以及其上运行的控制软件。被测控制系统"不知道"自己连接的是仿真器而非真实水网——这是HIL测试的核心理念。

**测试管理子系统**：负责测试场景加载、数据采集、评估判定和报告生成。测试管理子系统独立于前两个子系统运行，避免干扰被测系统的实时行为。

### 6.2.2 实时仿真器

水利HIL测试中的实时仿真器承担着"虚拟水网"的角色。与汽车行业常用的dSPACE和航空领域的RT-LAB类似，水利实时仿真器需要满足以下要求：

**确定性执行**：每个仿真步长的计算时间必须稳定且不超过时间限制。操作系统需使用实时内核（如RT-Linux、VxWorks或QNX），确保仿真任务的优先级调度。

**I/O接口**：提供与工业控制系统兼容的I/O信号——4-20mA模拟输出（模拟传感器信号）、4-20mA模拟输入（接收控制指令信号）、数字量I/O（模拟开关量状态）。

**通信协议支持**：支持OPC-UA、Modbus TCP/RTU、MQTT等工业通信协议，以便与PLC/RTU通信。

在HydroOS框架下，水利实时仿真器基于开源实时仿真平台构建，采用分层架构：底层是实时操作系统和I/O驱动，中间层是第三章封装的水力学模型FMU，上层是场景管理和信号映射配置（Lei, 2025c）。

### 6.2.3 信号映射与标定

HIL测试中一个容易被忽视但至关重要的环节是**信号映射与标定**——将仿真模型中的物理量（如水位2.85m）转换为I/O信号（如对应的4-20mA电流值），再由PLC的A/D转换器采样后还原为物理量。

【例6-1】某闸站的水位传感器量程为0-5m，输出4-20mA电流信号。PLC模拟输入模块的分辨率为16位（65536个量化级）。计算信号链的精度损失。

[信号链分析]
1. 仿真器输出：水位2.85m → 电流 = 4 + (2.85/5)×16 = 13.12 mA
2. D/A转换（仿真器端，假设16位）：13.12mA的量化值 = (13.12-4)/16 × 65536 ≈ 37355，对应电流 = 4 + 37355/65536 × 16 = 13.1199 mA，量化误差 ≈ 0.0001 mA
3. 传输损耗：假设线路电阻导致0.01mA压降
4. A/D转换（PLC端，16位）：接收 13.1099 mA，量化值 ≈ 37348，还原水位 = (13.1099-4)/16 × 5 = 2.84686 m

[精度分析] 端到端精度损失 = |2.85 - 2.84686| = 0.00314 m ≈ 3.1 mm。对于水位测量精度要求±10mm的一般调水工程，信号链精度满足要求。但需注意：上述计算未考虑温度漂移和EMI干扰，实际精度可能更低。

[结果讨论] 信号链精度分析是HIL测试前的必要准备工作。如果精度不满足要求，可能需要提高D/A或A/D的分辨率，或使用数字通信（如OPC-UA直接传递数值）替代模拟信号。

---

## SCADA闭环测试

### 6.3.1 SCADA闭环的含义

SCADA闭环测试是HIL测试的核心内容——将完整的SCADA系统（包括现地控制站PLC/RTU、通信网络、中控室上位机软件）连接到实时仿真器，形成从"虚拟传感器→SCADA采集→控制计算→控制指令→虚拟执行器→水力学仿真→虚拟传感器"的完整闭环。

与MIL/SIL中的"控制算法闭环"不同，SCADA闭环包含了完整的数据采集和监控链路，能够验证：上位机画面显示是否与仿真状态一致、报警系统是否正确触发、历史数据库是否正确记录、操作员界面的指令是否正确下达到现地PLC。

### 6.3.2 SCADA闭环测试用例

**表6-2 SCADA闭环HIL测试核心用例**

| 测试类别 | 测试用例 | 验证目标 |
|---------|---------|---------|
| 基本功能 | 自动控制模式下阶跃响应 | 闭环控制性能与SIL一致 |
| | 手动模式下闸门遥控操作 | HMI指令正确下达执行 |
| | 自动/手动模式切换 | 无扰切换、防误操作 |
| 数据链路 | 模拟量采集精度 | 全量程精度校验 |
| | 数字量状态反馈 | 开/关状态正确传递 |
| | 数据刷新率 | 满足控制周期要求 |
| 告警系统 | 水位超限告警 | 正确触发、正确显示 |
| | 设备故障告警 | 仿真注入→告警→记录 |
| | 告警确认和复位 | 操作流程完整 |
| 历史记录 | 过程数据存储 | 数据完整、时间戳准确 |
| | 操作日志 | 谁、何时、操作内容 |
| | 告警历史 | 告警发生/确认/消除 |

### 6.3.3 多站协调测试

水利工程通常包含多座闸站，SCADA闭环测试需要验证多站之间的协调控制。HIL测试的独特价值在于能够在真实的多PLC环境中验证站间协调——每座闸站的PLC独立运行自己的控制程序，通过通信网络交换数据，实时仿真器模拟整个多渠段水网的水力学响应。

【例6-2】某调水工程包含3座闸站，每站配备独立PLC。中控室通过SCADA系统监控协调。设计多站协调的HIL闭环测试。

[HIL平台配置]
- 实时仿真器：运行3段渠道+4座闸的IDZ级联模型，实时步长1s
- 被测硬件：3台实际PLC（型号与现场一致），通过工业以太网连接
- SCADA上位机：实际中控室软件，连接PLC网络
- 测试管理PC：独立网段，不干扰SCADA通信

[测试场景] 全线增水测试——中控室操作员下达"全线流量从25 m³/s增加到30 m³/s"指令。

[预期行为]
1. SCADA上位机将新的流量目标分解为各站水位设定值并下发
2. 闸站1 PLC首先响应（上游先动），调大闸门
3. 闸站2 PLC在检测到上游来水增加后调整（延迟约300-600s，取决于传播时间）
4. 闸站3 PLC最后响应
5. 全线流量在30-60分钟内稳定到新目标

[HIL执行结果] 全线流量过渡过程约45分钟，各站水位超调量分别为0.08m、0.11m、0.09m。闸站2的PLC在第8分钟出现一次通信超时（与中控室通信延迟达到2.3s，超过正常值0.5s），原因是工业交换机在流量数据突变时的广播风暴。PLC在超时后正确切换到本地自治模式，使用上次收到的协调参数继续控制，通信恢复后自动切回协调模式。

[结果讨论] HIL测试发现了SIL无法捕捉的真实网络问题（交换机广播风暴）。该发现促使项目团队在交换机上配置了VLAN隔离和风暴抑制策略。此外，PLC的通信超时自治机制经HIL验证为可靠——这是安全运行的重要保障。

---

## 执行器响应验证

### 6.4.1 水利执行器的非理想特性

水利控制系统的执行器（闸门电动装置、泵站变频器、阀门执行机构）具有MIL/SIL中被理想化的非线性特性：

**死区**（Dead Zone）：当控制指令的变化量小于一定阈值时，执行器不响应。闸门电动装置的典型死区为0.01-0.05m。死区的存在使控制器在小偏差时无法调节，导致稳态精度受限。

**滞后**（Backlash/Hysteresis）：执行器在改变运动方向时存在的"空行程"。闸门传动齿轮的间隙导致方向切换时约0.5-2mm的滞后，在快速往复调节时可能引起振荡。

**速率限制**（Rate Limit）：执行器的最大运动速度。闸门电动装置的典型速率为0.003-0.01 m/s，这意味着闸门从全关到全开可能需要5-15分钟。速率限制对快速扰动抑制形成物理约束。

**位置反馈精度**：闸门位置传感器（位移编码器或电位计）的测量精度。典型精度为0.5-2mm，但在长期运行中可能因磨损而退化。

### 6.4.2 执行器模型标定

在HIL测试中，如果不使用实际执行器硬件（通常因成本和场地限制），则需要在实时仿真器中使用高保真的执行器模型。执行器模型的标定方法包括：

从执行器制造商获取技术规格（死区、速率、滞后参数）、在现场或实验室对实际执行器进行特性测试（阶跃响应测试、频率扫描）、将测试数据拟合为数学模型（含死区、速率限制和滞后的非线性模型）。

**表6-3 水利常用执行器的HIL建模参数**

| 执行器类型 | 死区 | 速率限制 | 方向切换延时 | 位置精度 |
|-----------|------|---------|------------|---------|
| 平板闸门电动装置 | 0.01-0.03m | 0.003-0.008 m/s | 1-3s | ±1-2mm |
| 弧形闸门液压装置 | 0.02-0.05m | 0.005-0.015 m/s | 0.5-1.5s | ±2-5mm |
| 蝶阀电动装置 | 0.5-2° | 1-5°/s | 0.5-2s | ±0.5-1° |
| 泵站变频器 | 0.5-1 Hz | 1-5 Hz/s | 0.1-0.5s | ±0.1 Hz |

---

## 通信链路测试

### 6.5.1 水利SCADA通信架构

水利SCADA系统的通信架构通常分为三层：现场级（传感器/执行器↔PLC，采用4-20mA/Modbus RTU/Profibus）、站间级（PLC↔PLC或PLC↔中控室，采用工业以太网/光纤/微波）、广域级（中控室↔上级调度中心，采用专网/VPN）。

HIL通信链路测试覆盖站间级和广域级通信——这些链路传输控制数据，其质量直接影响控制性能。

### 6.5.2 通信性能指标与测试方法

**延迟测试**：测量数据从发送端到接收端的传输时间。在HIL平台中，通过在仿真器端记录数据发送时间戳、在PLC端记录数据接收时间戳（需时钟同步），计算单向延迟。对于分布式控制系统，站间通信延迟不应超过控制采样周期的10%（例如60s周期对应6s延迟上限）。

**丢包率测试**：统计一段时间内数据包丢失的比例。水利SCADA系统的丢包率要求通常为＜0.1%（每1000包丢失不超过1包）。HIL测试通过注入网络扰动（如短暂断开光纤连接）来评估丢包对控制性能的影响。

**带宽测试**：在通信链路上逐步增加数据量，观察延迟和丢包率的变化。确定通信链路的实际带宽余量，评估在数据量增加（如增加监测点）后是否仍满足要求。

【例6-3】某调水工程的3座闸站通过光纤以太网连接中控室，链路带宽100Mbps。HIL通信链路测试发现，在正常工况下通信延迟约15ms，丢包率＜0.01%。但当仿真器注入"闸站1水位突变触发告警"场景时，SCADA系统的告警广播导致网络负载瞬间增加300%，通信延迟跳升至180ms，闸站3的数据更新出现2次丢失。

[影响分析] 180ms的延迟对于60s控制周期的影响可忽略（延迟占比0.3%）。2次数据丢失在PLC端被检测到，PLC使用上次有效值继续控制，未产生实际性能影响。

[改进建议] 虽然当前影响不大，但如果未来增加监测点或视频监控，带宽余量可能不足。建议在交换机上配置QoS（Quality of Service），将控制数据的优先级设为最高，确保告警广播不影响控制数据传输。

---

## 安全联锁验证

### 6.6.1 安全联锁的定义与重要性

安全联锁（Safety Interlock）是水利控制系统中最关键的保护机制——当运行状态触及安全边界时，自动执行预定义的保护动作，阻止系统进入危险状态。

安全联锁的HIL验证具有特殊重要性，因为联锁的失效可能直接导致事故。航空领域有句格言："安全系统的测试不是证明它在正常情况下工作，而是证明它在异常情况下不失败。"水利安全联锁的HIL测试遵循同一理念。

### 6.6.2 水利安全联锁的典型配置

**表6-4 水利控制系统典型安全联锁配置**

| 联锁编号 | 触发条件 | 保护动作 | 响应时限 | 优先级 |
|---------|---------|---------|---------|--------|
| SI-01 | 水位≥安全上限 | 全开泄水闸 | 10s | 最高 |
| SI-02 | 水位≤安全下限 | 关闭取水闸 | 10s | 最高 |
| SI-03 | 闸门堵塞（开度指令-反馈偏差持续＞阈值） | 停止该闸操作+告警 | 30s | 高 |
| SI-04 | 泵站过流/过载 | 停泵+告警 | 5s | 高 |
| SI-05 | 通信中断（所有链路）＞超时阈值 | 进入本地自治模式 | 60s | 中 |
| SI-06 | 控制器自检失败 | 切换到备用控制器 | 10s | 高 |

### 6.6.3 安全联锁HIL测试方法

安全联锁的HIL测试必须覆盖以下方面：

**正向测试**：验证每个联锁在触发条件满足时正确执行保护动作，且响应时间在规定限值内。

**误触发测试**：验证联锁在触发条件不满足时不会误动作。例如，水位快速上升但尚未达到安全上限时，联锁不应提前触发。

**延迟触发测试**：验证联锁在边界条件附近的行为。例如，水位在安全上限附近反复穿越时，联锁的抖动抑制机制是否正确（通常采用迟滞比较器：上升触发点高于下降解除点）。

**复合条件测试**：验证多个联锁同时触发时的优先级和协调。例如，水位超上限（SI-01触发）的同时通信中断（SI-05触发），系统应执行SI-01的保护动作（全开泄水闸），而非SI-05的动作（进入自治模式但保持当前开度）。

**联锁恢复测试**：验证联锁触发后的恢复流程——触发条件消除后，系统是否能够安全地从保护状态恢复到正常控制状态，是否需要操作员确认。

【例6-4】对SI-01（水位超上限→全开泄水闸）进行HIL联锁验证。

[HIL配置] 实时仿真器模拟渠段水力学过程，通过4-20mA接口向PLC输出水位信号。PLC运行联锁逻辑和控制程序。泄水闸的执行指令通过Modbus RTU输出到仿真器。

[测试场景] 在t=0时，仿真器以0.05 m/min的速率抬升渠段水位，使其从正常值3.0m逐步上升。安全上限设置为3.5m。

[通过准则]
- 联锁触发水位：3.50 ± 0.02 m
- 联锁响应时间（从水位达到触发值到闸门开始动作）：＜10 s
- 闸门全开时间：＜5 min（取决于执行器速率）
- 联锁触发期间，操作员手动指令应被屏蔽（防止误操作取消联锁保护）

[HIL执行结果]
- 水位达到3.50m的时刻：t=600s
- PLC联锁触发时刻：t=601.2s（延迟1.2s，含A/D转换+逻辑判断+通信）✓（＜10s）
- 泄水闸开始动作时刻：t=602.8s（含Modbus指令传输+执行器响应延时）
- 联锁总响应时间：2.8s ✓（＜10s）
- 泄水闸达到全开：t=900s（耗时约5min，闸门行程3m，速率约0.01 m/s）✓
- 联锁期间测试操作员从HMI下发"关闸"指令：指令被PLC联锁逻辑屏蔽，HMI显示"安全联锁已激活，手动操作已禁止" ✓
- 水位在闸门全开后约15分钟回落至3.30m，操作员确认解除联锁后系统恢复正常控制 ✓

[结果讨论] SI-01联锁通过HIL验证。1.2s的逻辑触发延迟（从水位达标到PLC判断）主要由PLC的扫描周期（约200ms）和A/D转换时间决定。2.8s的总响应时间远在10s限值内。操作员指令屏蔽功能正常——这是防止人为错误在安全关键时刻干扰保护动作的重要机制。

---

## HIL测试执行与管理

### 6.7.1 HIL测试环境要求

HIL测试对物理环境有特定要求：独立的测试区域（与生产网络隔离）、可控的电源（UPS保护+可模拟电源中断）、温度控制（验证PLC在极端温度下的工作能力，如果需要）、接地与屏蔽（确保信号质量）。

### 6.7.2 HIL测试的成本与时间规划

HIL测试的成本结构与MIL/SIL有本质区别——硬件采购和场地建设占主要成本，而非计算资源。

典型水利HIL测试平台的建设成本包括：实时仿真器（含I/O板卡）、与现场一致的PLC/RTU设备、通信网络设备（交换机、光电转换器）、SCADA上位机软件许可、测试仪表（信号发生器、示波器、网络分析仪）。

建设时间通常需要2-3个月（设备采购+平台搭建+调试），测试执行时间2-4周（取决于测试用例数量和问题修复周期）。

### 6.7.3 HIL发现缺陷的处理

HIL阶段发现的缺陷修复成本最高（可能涉及硬件更换或通信架构调整），因此处理策略更加审慎。HIL缺陷处理的核心原则是：

**安全类缺陷（涉及联锁和保护功能）**：必须在现场部署前完全修复，无例外。修复后必须重新执行相关的HIL测试用例，以及受影响的MIL/SIL回归测试。

**性能类缺陷（如通信延迟导致控制性能下降）**：评估对实际运行的影响程度。如果影响在可接受范围内（如超调量增加0.01m），可以记录为已知限制并在运行手册中说明；如果影响显著，需要修复。

**兼容性类缺陷（如特定PLC型号的I/O驱动问题）**：通常通过软件补丁或配置调整解决，少数情况需要更换硬件型号。

---

## 本章小结

本章系统阐述了HIL（硬件在环）测试的方法论和工程实践。

首先，明确了HIL在三级验证体系中的定位——保真度最高、成本最大的最终验证关卡。HIL的核心价值在于将真实控制硬件置于逼真仿真环境中，发现SIL无法捕捉的硬件兼容性、通信链路特性、执行器非理想特性和电磁兼容性问题（表6-1）。

其次，建立了水利HIL测试平台的三子系统架构——实时仿真子系统、被测控制子系统和测试管理子系统。实时仿真器的确定性执行、I/O接口和信号映射标定是平台可靠运行的技术基础。通过例6-1展示了信号链精度分析方法。

第三，阐述了SCADA闭环测试方法。闭环测试覆盖基本控制功能、数据链路、告警系统和历史记录四个方面（表6-2）。通过例6-2展示了多站协调HIL测试中发现真实网络问题（交换机广播风暴）的案例。

第四，讨论了执行器响应验证——死区、滞后、速率限制和位置反馈精度等非理想特性的HIL建模和测试（表6-3）。

第五，介绍了通信链路测试方法——延迟、丢包率和带宽测试。例6-3展示了告警广播对网络负载的影响分析。

第六，重点阐述了安全联锁的HIL验证方法。安全联锁是水利控制系统最关键的保护机制（表6-4），其HIL测试必须覆盖正向触发、误触发、延迟触发、复合条件和恢复流程。例6-4展示了水位超限联锁的完整HIL验证过程。

> 下一章将从单个测试方法上升到系统性的测试设计方法论——如何基于运行设计域（ODD）设计全面的测试场景矩阵？如何确定测试用例的优先级？如何构建自动化的测试框架？第七章的测试用例设计与场景矩阵将回答这些"如何系统地设计测试"的关键问题。

---

## 习题

### 基础题

**6-1.** 列出HIL测试能够发现而SIL无法发现的4种典型缺陷类型，并各举一个水利控制系统中的具体例子。

**6-2.** 解释闸门电动执行器的"死区"和"滞后"概念。如果一个PI控制器的输出精度为0.001m，而执行器的死区为0.02m，会产生什么问题？如何在控制器设计中缓解死区效应？

**6-3.** 某水利SCADA系统的通信链路延迟为50ms，控制采样周期为30s。该延迟是否会显著影响控制性能？如果采样周期缩短至1s（如泵站压力控制），情况如何变化？

**6-4.** 解释安全联锁的"迟滞比较器"设计。为什么联锁的触发阈值和解除阈值通常不同（如触发3.50m，解除3.40m）？如果两者相同会导致什么问题？

### 应用题

**6-5.** 某调水工程计划建设HIL测试平台。工程包含5座闸站、2座泵站、120km输水干渠。请设计HIL平台的总体架构，包括：（a）实时仿真器的硬件配置和模型选择；（b）需要采购的PLC/RTU数量和型号选择原则；（c）通信网络的搭建方案；（d）信号映射方案（哪些信号用模拟I/O，哪些用数字通信）；（e）估算建设周期和主要成本构成。

**6-6.** 对表6-4中的SI-05（通信中断联锁）设计HIL测试方案。需要考虑以下场景并设计对应的测试用例：（a）单条链路中断（如PLC1与中控室通信中断但PLC间通信正常）；（b）所有链路中断；（c）通信中断后快速恢复（中断＜超时阈值）；（d）通信间歇性中断（反复断连）。每个测试用例需定义预期行为和通过准则。

### 思考题

**6-7.** HIL测试平台的建设和维护成本较高。对于中小规模的水利工程，是否有必要建设专用的HIL平台？是否可以通过增强MIL/SIL测试来部分替代HIL？请讨论不同工程规模和安全等级下的HIL投资决策框架。

**6-8.** 随着数字孪生技术和云计算的发展，"Cloud-HIL"（云端HIL测试）的概念开始出现——将实时仿真器部署在云端，通过低延迟网络连接位于不同地点的被测硬件。讨论：（a）Cloud-HIL对于水利控制系统的可行性（考虑实时约束和信号精度）；（b）Cloud-HIL可能带来的优势（如共享测试平台降低成本）；（c）需要克服的技术挑战。

---

## 拓展阅读

1. **Isermann, R., Schaffnit, J., & Sinsel, S. (1999).** "Hardware-in-the-loop simulation for the design and testing of engine-control systems." *Control Engineering Practice*, 7(5), 643-653. — HIL测试方法论的经典论文，虽面向汽车发动机控制，但其方法论框架（实时仿真器设计、信号映射、测试流程）对水利HIL具有直接借鉴意义。

2. **Bacic, M. (2005).** "On hardware-in-the-loop simulation." *Proceedings of the 44th IEEE Conference on Decision and Control*. — 对HIL仿真技术进行了系统性综述，包括实时约束保证、I/O精度分析和测试覆盖度评估方法。

3. **ASCE (2014).** *Canal Automation for Irrigation Systems.* MOP 131. — ASCE灌溉渠道自动化实践手册。第7-8章关于控制系统测试和验收的讨论，是水利控制系统HIL测试工程规范的重要参考。

4. **Lei, X. et al. (2025c).** "In-the-Loop Testing System for Water Network Control." *南水北调与水利科技（中英文）*, DOI: 10.13476/j.cnki.nsbdqk.2025.0080. — HydroOS框架下的在环测试系统，其中HIL平台的架构设计和安全联锁验证方法是本章工程实践的直接基础。

5. **Van Overloop, P.J. (2006).** *Model Predictive Control on Open Water Systems.* PhD thesis, Delft University of Technology. — 第8章详细讨论了明渠控制系统的实验验证方法，包括实验室规模的HIL测试和现场验证，是水利HIL测试的早期工程实践参考。
