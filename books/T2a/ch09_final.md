<!-- 变更日志
v2 2026-02-16: 根据四角色评审修订——补充术语一致性声明与基础题答案要点，强化教学闭环
v1 2026-02-16: 初稿
-->

# 第九章 水系统可控性与可观性

---

## 学习目标

完成本章后，你应能够：

1. 解释可控性与可观性的工程含义；
2. 使用状态空间形式进行可控/可观性基础判别；
3. 识别传感器与执行器布局对可控可观性的影响；
4. 构建“结构可行—经济可行—安全可行”的布设优化思路；
5. 将可控可观分析结果与后续安全包络与状态估计章节衔接。

> **章首衔接（承接ch08）**  
> 上一章讨论了优化问题“怎么解”。本章回答“什么值得解”：若系统关键状态不可控或不可观，再先进的算法也难上线。

> **前章回顾**：上一章介绍了本领域的核心概念与方法。本章在此基础上进一步展开。


## 可控性与可观性的工程直觉

[物理直觉] 可控性回答“能不能通过输入把系统带到期望状态”；可观性回答“能不能通过测量重建关键状态”。

[公式]
\[
\dot{\mathbf{x}}=\mathbf{A}\mathbf{x}+\mathbf{B}\mathbf{u},\quad \mathbf{y}=\mathbf{C}\mathbf{x}
\]

[工程解释] 在水系统中，执行器链路缺失会导致不可控，测点盲区会导致不可观，两者都会在极端工况下放大风险。

## 基础判别方法

### 9.2.1 可控性矩阵
\[
\mathcal{C}=[\mathbf{B},\mathbf{A}\mathbf{B},\dots,\mathbf{A}^{n-1}\mathbf{B}]
\]
当 \(\mathrm{rank}(\mathcal{C})=n\) 时系统可控。

### 9.2.2 可观性矩阵
\[
\mathcal{O}=\begin{bmatrix}\mathbf{C}\\\mathbf{C}\mathbf{A}\\\vdots\\\mathbf{C}\mathbf{A}^{n-1}\end{bmatrix}
\]
当 \(\mathrm{rank}(\mathcal{O})=n\) 时系统可观。

[表9-1: 判别结果的工程解读]
| 结果 | 含义 | 工程动作 |
|---|---|---|
| 可控且可观 | 具备闭环设计基础 | 可进入控制器设计与验证 |
| 可控不可观 | 状态估计困难 | 优先补测点/优化布设 |
| 不可控可观 | 可监测但难调节 | 优先补执行器链路 |
| 不可控不可观 | 高风险结构 | 需重构架构后再上线 |

## 传感器与执行器布局优化

布局优化需要同时考虑信息增益、建设成本与运行韧性：

1. 关键风险节点优先覆盖；
2. 主耦合通道优先布设执行器；
3. 保留冗余测点避免单点失效。

[图9-1: 传感器/执行器布局优化流程]
{描述: 展示“关键状态识别→候选点生成→可控可观评估→成本约束筛选→方案复核”流程。}
{尺寸: 全页}
{颜色方案: 蓝色系}
{对应ARCH编号: 无（本章自定义教学图）}

## 结构可控可观与ODD联动

可控可观结论应转化为 ODD 准入条件：若关键状态在某工况下不可观，应缩小ODD并触发保守策略；若执行链路在某工况不可控，应限制自主等级跃迁。

[图9-2: 可控可观结论到ODD准入映射]
{描述: 左侧为可控可观评估结果，中部为风险分级，右侧为ODD准入/收缩与联锁策略。}
{尺寸: 半页}
{颜色方案: 蓝色系}
{对应ARCH编号: ARCH-02（等级准入思想借鉴）}

## 例题：三节点供水子网的测控布设

【例9-1】某三节点供水子网已有2个测点和1个闸门执行器，频繁出现“看得见但调不稳”。请给出可控可观改造建议。

**解题过程**：

步骤1：建立局部状态空间模型并计算 \(\mathcal{C},\mathcal{O}\) 秩。  
步骤2：若可控秩不足，优先在主耦合支路增加执行器。  
步骤3：若可观秩不足，在关键风险节点补测点并校核噪声质量。  
步骤4：完成改造后在在环测试中复核越界率与恢复时间。

**结果讨论**：

测控布设是控制上线前置条件，不应在控制器调参阶段“被动补救”。

### 可控可观上线检查清单

- [ ] 是否完成关键工况下可控可观秩分析；
- [ ] 是否完成测点与执行器冗余性评估；
- [ ] 是否将评估结果映射到ODD准入规则；
- [ ] 是否在在环测试中验证改造效果；
- [ ] 是否形成可审计的布设变更记录。

## 本章小结

本章明确了可控性与可观性是水系统控制上线的“结构门槛”。关键结论是：先保证关键状态可观、关键风险可控，再讨论算法先进性。下一章将进入安全约束与安全包络，构建红黄绿分区的联锁治理框架。

## 习题

### 基础题

**9-1.** 分别定义可控性与可观性。  
**9-2.** 可控性矩阵与可观性矩阵分别反映什么问题？  
**9-3.** 为什么“可观但不可控”仍是高风险状态？

### 基础题参考答案要点

**9-4.** 可控性是输入对状态可达能力；可观性是输出对状态可重建能力。  
**9-5.** 可控性矩阵评估执行链路覆盖，\(\mathcal{O}\) 评估测量链路覆盖。  
**9-6.** 因无法有效施加调节动作，异常只能被观察而难以抑制。

### 应用题

**9-7.** 设计一个四节点系统的测点/执行器最小布设方案并说明理由。  
**9-8.** 某系统在丰水期可观、枯水期不可观，提出ODD收缩策略。

### 思考题

**9-9.** 在预算受限场景下，你会如何平衡“新增测点”与“新增执行器”的投资优先级？

## 拓展阅读

1. Kailath, T. *Linear Systems*.
2. Chen, C.-T. *Linear System Theory and Design*.
3. Litrico, X., & Fromion, V. *Modeling and Control of Hydrosystems*.
4. 钱学森. 《工程控制论》.
5. Lei et al. (2025a). 理论背景与研究范式。
