---
name: academic-writer
description: 学术写作全流程技能——覆盖报告、书稿、SCI论文、中文核心期刊论文、发明专利、技术标准六大文体，实现"写作→多角色评审→修改→迭代"闭环，持续优化直到达到发表/授权/颁布标准。支持批量写作、进度追踪、跨文档一致性检查。
---

# 学术写作全流程技能 (Academic Writer)

> 统一的"写—审—改—迭代"引擎，覆盖六大学术文体

---

## 0. 快速启动

### 用户只需两类指令

| 指令 | 示例 | 效果 |
|------|------|------|
| **开始[类型][编号]** | `开始SCI-P1a` `开始专利PF2-3` `开始书稿M1-ch03` | 启动指定文档的写作全流程 |
| **继续** | `继续` | 从中断处恢复，自动读取进度文件 |

### 支持的文档类型代号

| 代号 | 文体 | 说明 |
|------|------|------|
| `RPT` | 技术报告/研究报告 | 项目报告、可研报告、技术方案 |
| `BK` | 书稿/专著/教材 | 章节制，逐章写作评审 |
| `SCI` | SCI英文论文 | 针对WRR/Nature Water等国际顶刊 |
| `CN` | 中文核心期刊论文 | 针对水利学报/中国科学等 |
| `PAT` | 发明专利 | 中国发明专利申请文件 |
| `STD` | 技术标准 | 行业标准/团体标准/企业标准 |

---

## 1. 核心架构：写—审—改闭环

```
用户指令 → 读取规格 → [写作] → [多角色评审] → 达标？
                                    ↑         ↓ 否
                                    └── [修改] ←┘
                                          ↓ 是
                                    保存终稿 → 更新进度 → 提示"继续"
```

### 1.1 通用迭代流程

**所有文体共享此流程，仅评审角色和质量标准因文体而异。**

1. **读取规格**：从项目配置或用户指令中获取文档的完整写作规格（提纲、字数、目标期刊/出版社、格式要求）
2. **背景检索**：用 web_search 检索相关文献/专利/标准，确认创新性/新颖性
3. **撰写初稿**：按文体模板完成全文初稿
4. **多角色评审**：Claude 依次扮演多个评审角色（因文体而异，见§2），各角色独立打分并给出修改意见
5. **汇总评分**：综合各角色评分，判定是否达标
6. **未达标→修改**：逐条回应评审意见，输出新版本，回到步骤4
7. **达标→终稿**：保存最终版本，更新进度追踪文件
8. **循环上限**：最多迭代 N 轮（SCI/CN: 20轮，PAT: 4轮，BK: 6轮，RPT: 3轮，STD: 4轮），超出则标记"建议人工审核"

### 1.2 达标标准

| 文体 | 达标条件 | 评分制 |
|------|---------|--------|
| SCI | 连续2轮所有评审角色给出"小修"或"接受" | Major/Minor/Accept |
| CN | 连续2轮所有评审角色给出"小修"或"接受" | Major/Minor/Accept |
| PAT | 综合评分 ≥ 7.5/10 | 1-10 数值打分 |
| BK | 综合评分 ≥ 8.0/10 且无🔴标记 | 🔴/🟡/🟢 三级 |
| RPT | 综合评分 ≥ 7.0/10 | 1-10 数值打分 |
| STD | 综合评分 ≥ 8.0/10 且条文合规率100% | 1-10 + 合规检查 |

---

## 2. 六大文体的评审角色配置

### 2.1 SCI英文论文 — 三角色评审

| 角色 | 身份 | 评审维度 |
|------|------|---------|
| **Reviewer A** | 该领域顶刊资深审稿人 | 创新性、理论深度、数学严谨性、文献完备性 |
| **Reviewer B** | 方法论专家 | 实验设计、可重复性、数据分析、统计显著性 |
| **Reviewer C** | 应用领域工程师 | 工程可行性、案例说服力、实际影响力 |

**评审输出格式**：
```
## Reviewer [A/B/C] 评审意见

**Decision**: [Major Revision / Minor Revision / Accept]

**Summary**: 一段话总结论文贡献和主要问题

**Specific Comments**:
1. [具体意见 + 修改建议]
2. ...（至少5条）

**Minor Issues**: 语法、格式、引用等细节问题
```

**SCI专有规则**：
- 参考文献 ≥ 30篇，近5年占比 ≥ 50%
- 自引率控制在 15-25%
- 所有公式必须编号，关键公式需推导过程
- 图表标题和正文对图表的引用必须完整
- 数据可用性声明（Data Availability Statement）必须包含
- 投稿前用 web_search 确认目标期刊最新格式要求

### 2.2 中文核心期刊论文 — 三角色评审

| 角色 | 身份 | 评审维度 |
|------|------|---------|
| **审稿人A** | 学科专家 | 理论创新性、学术规范、文献综述深度 |
| **审稿人B** | 工程应用专家 | 工程实用性、案例数据可信度、成果推广价值 |
| **审稿人C** | 期刊编辑视角 | 行文逻辑、中文学术写作规范、图表质量、参考文献格式 |

**中文论文专有规则**：
- 中英文摘要必须对应，英文摘要 200-300 words
- 关键词中英文各 3-8 个
- 参考文献格式严格遵循 GB/T 7714
- 基金项目信息必须准确完整
- 量和单位符合 GB 3101/3102
- 工程案例数据须注明来源和时间范围

### 2.3 发明专利 — 三角色评审

| 角色 | 身份 | 评审维度 |
|------|------|---------|
| **审查员** | 专利审查员 | 新颖性、创造性、充分公开、权利要求完整性、实用性 |
| **代理人** | 资深专利代理人 | 保护范围适当性、从属权利要求层次、与同族群专利区分度 |
| **技术专家** | 水利自动化技术专家 | 公式算法正确性、技术效果可信度、工程可实施性 |

**专利专有规则**：
- 七部分结构：技术领域、背景技术、发明内容、附图说明、具体实施方式、权利要求书（8-15项）、摘要
- 独立权利要求采用"前序+特征"两段式
- 从属权利要求逐层细化，覆盖关键技术特征
- 背景技术引用的现有技术必须用 web_search 验证真实性
- 权利要求书措辞必须和发明内容中技术方案严格一致
- 具体实施方式至少一个完整实施例含具体参数
- 摘要 150-300 字
- 初稿前先检索5篇最接近的已有专利确认新颖性

### 2.4 书稿/教材/专著 — 四角色评审

| 角色 | 身份 | 评审维度 |
|------|------|---------|
| **教师** | 学科教师 | 教学可用性、知识递进逻辑、例题/思考题质量 |
| **专家** | 学科资深学者 | 学术准确性、理论深度、前沿覆盖度 |
| **工程师** | 行业工程师 | 工程实用性、案例真实性、操作指导价值 |
| **国际读者** | 英文版跨文化评审 | 术语准确性、表达可达性、国际读者理解障碍 |

**评审输出格式**：
```
## [角色名] 评审

**总评**: 🟢/🟡/🔴

**评分**:
- 内容准确性: X/10
- 教学效果: X/10
- 实用价值: X/10
- 写作质量: X/10
- 图表质量: X/10

**必须修改 (🔴)**: ...
**建议修改 (🟡)**: ...
**锦上添花 (🟢)**: ...
```

**书稿专有规则**：
- 逐章写作，每章完成一轮完整评审后再进入下一章
- 章与章之间需要衔接检查（前一章末尾500字 + 当前章开头500字）
- 术语首次出现必须给出定义，后续使用统一术语
- 每章末尾包含本章小结和思考题（教材类）
- 跨章一致性：核心概念、符号、图表编号全书统一

### 2.5 技术报告 — 双角色评审

| 角色 | 身份 | 评审维度 |
|------|------|---------|
| **技术审查人** | 项目委托方技术负责人 | 技术方案完整性、数据可靠性、结论合理性 |
| **管理审查人** | 项目管理者 | 报告结构、执行摘要质量、建议可操作性、经费合理性 |

**报告专有规则**：
- 执行摘要（Executive Summary）必须独立可读
- 数据图表必须有明确来源和时间标注
- 结论和建议必须可追溯到报告正文
- 语言正式、避免主观表述

### 2.6 技术标准 — 三角色评审

| 角色 | 身份 | 评审维度 |
|------|------|---------|
| **标准化专家** | 标准化技术委员会成员 | GB/T 1.1合规性、条文表述规范性、引用标准准确性 |
| **技术专家** | 水利自动化技术专家 | 技术指标合理性、测试方法可行性、参数取值依据 |
| **实施方** | 工程实施单位代表 | 可操作性、指标可达性、检测成本合理性 |

**标准专有规则**：
- 严格遵循 GB/T 1.1《标准化工作导则》的编写格式
- 规范性引用文件必须用 web_search 确认现行有效
- 条文表述使用"应/宜/可/不应/不宜"等规范用语
- 技术指标必须有依据（实验数据、工程经验或理论计算）
- 包含规范性附录（测试方法）和资料性附录（示例）

---

## 3. 进度追踪系统

### 3.1 进度文件结构

每个项目维护一个 `progress.json`：

```json
{
  "project": "项目名称",
  "total": 25,
  "completed": 3,
  "documents": {
    "SCI-P1a": {
      "type": "SCI",
      "title": "论文标题",
      "target": "Water Resources Research",
      "status": "in_review_v9",
      "current_version": 9,
      "last_review_result": "minor_revision",
      "consecutive_passes": 1,
      "updated_at": "2026-02-19T10:00:00Z"
    }
  }
}
```

### 3.2 状态流转

```
not_started → drafting → in_review_v{N} → revising_v{N} → in_review_v{N+1} → ... → completed
                                                                                    → manual_review_needed
```

### 3.3 文件命名规范

```
docs/
├── SCI-P1a/
│   ├── draft_v01.md
│   ├── review_v01.md
│   ├── response_v01.md
│   ├── draft_v02.md
│   ├── draft_final.md
│   ├── references.bib
│   └── figures/
├── PAT-PF1-1/
│   ├── draft_v01.md
│   └── ...
├── BK-M1/
│   ├── ch01_v01.md
│   ├── ch01_review_v01.md
│   ├── ch01_final.md
│   └── ...
└── progress.json
```

---

## 4. 自动执行协议

### 4.1 收到"开始[类型][编号]"后的动作序列

```
步骤1: 识别文档类型和编号
步骤2: 读取 progress.json（如存在），确认该文档当前状态
步骤3: 读取该文档的写作规格（从项目配置或用户提供）
步骤4: 如有前序版本/前序章节，读取最近内容用于衔接
步骤5: 用 web_search 进行背景检索（文献/专利/标准查新）
步骤6: 按文体模板撰写初稿
步骤7: 进入多角色评审循环
步骤8: 达标后保存终稿，更新 progress.json
步骤9: 输出："✅ [文档编号] 已完成，输入'继续'进入下一个"
```

### 4.2 收到"继续"后的动作序列

```
步骤1: 读取 progress.json
步骤2: 找到下一个未完成的文档（或当前文档的下一章）
步骤3: 从步骤3（§4.1）开始执行
```

### 4.3 中断恢复

如果对话中断后重新开始，发送"继续"即可。系统会：
1. 读取 progress.json 和各文档的 status.json
2. 找到最后一个处于 in_review 或 revising 状态的文档
3. 读取该文档最新版本
4. 从评审或修改步骤继续

---

## 5. 统一术语与符号系统

### 5.1 CHS核心术语（中英对照）

| 中文 | English | 缩写 |
|------|---------|------|
| 水系统控制论 | Cybernetics of Hydro Systems | CHS |
| 水网操作系统 | Hydraulic Network Operating System | HydroOS |
| 水网自主运行等级 | Water Network Autonomy Level | WNAL(L0-L5) |
| 运行设计域 | Operational Design Domain | ODD |
| 积分延迟零模型 | Integrator Delay Zero model | IDZ |
| 分布式模型预测控制 | Distributed Model Predictive Control | DMPC |
| 多智能体系统 | Multi-Agent System | MAS |
| 模型在环/软件在环/硬件在环 | Model/Software/Hardware-in-the-Loop | MIL/SIL/HIL |
| 安全包络 | Safety Envelope | SE |
| 认知智能 | Cognitive Intelligence | CI |
| 瀚铎水网大模型 | Hando Water Network Large Model | HWLM |

### 5.2 数学符号统一表

| 符号 | 含义 | 首次定义于 |
|------|------|-----------|
| G(s) | 渠池传递函数 | SCI-P1a |
| H(s) | 控制器传递函数 | SCI-P1a |
| A_s | 水面面积 | SCI-P1a |
| τ^d | 延迟时间 | SCI-P1a |
| α, β | IDZ模型参数 | SCI-P1a |
| Q | 流量 (m³/s) | 通用 |
| Z | 水位 (m) | 通用 |
| n | 糙率 (Manning系数) | 通用 |
| S_0 | 底坡 | 通用 |
| B | 渠道底宽 | 通用 |

---

## 6. 跨文档一致性检查

### 6.1 一致性约束

以下核心内容在多篇文档中出现时，必须保持一致：

| 编号 | 内容 | 涉及文档 |
|------|------|---------|
| CONS-01 | CHS八原理的表述 | 所有SCI/CN/BK |
| CONS-02 | WNAL(L0-L5)定义 | 所有SCI/CN/PAT/BK/STD |
| CONS-03 | Saint-Venant方程的离散化表述 | SCI-P1a, BK-T2a, PAT-PF1系列 |
| CONS-04 | MPC控制原理描述 | SCI-P2系列, BK-M2, PAT-PF2系列 |
| CONS-05 | HydroOS五层架构 | SCI-P5c, BK-M7, PAT-PF7系列, STD |
| CONS-06 | 胶东调水工程参数 | SCI工程线, BK-M8, PAT工程专利 |
| CONS-07 | 沙坪水电站工程参数 | SCI工程线, BK-M8, PAT工程专利 |
| CONS-08 | 南水北调中线工程参数 | 多篇SCI/CN/BK |
| CONS-09 | 安全包络ODD边界条件 | SCI-P2c, BK-M3, PAT-PF3系列, STD |

### 6.2 一致性检查时机

- 每篇文档终稿完成时，检查与已完成文档的一致性
- 每个批次完成时，进行批次内全量交叉检查
- 全部文档完成时，进行全局一致性审计

---

## 7. 质量检查清单（通用）

每篇文档终稿前必须通过以下检查：

### 7.1 内容检查
- [ ] 核心创新点明确且与其他文档不重复
- [ ] 数学公式编号连续，无遗漏引用
- [ ] 图表编号连续，正文中有引用
- [ ] 缩略语首次出现时有全称
- [ ] 工程参数和数据有来源标注

### 7.2 格式检查
- [ ] 符合目标期刊/出版社/专利局格式要求
- [ ] 参考文献格式统一
- [ ] 中文标点/英文标点使用正确
- [ ] 量和单位规范

### 7.3 引用检查
- [ ] 所有引用文献在参考文献列表中
- [ ] 参考文献列表中无未引用的文献
- [ ] 自引率在目标范围内
- [ ] 必引文献已包含

### 7.4 一致性检查
- [ ] 术语与§5术语表一致
- [ ] 符号与§5符号表一致
- [ ] 与已完成文档的CONS-01至CONS-09无冲突

---

## 8. 文体模板快速参考

### 8.1 SCI论文结构

```
Title
Authors and Affiliations
Abstract (150-300 words)
Keywords (3-8)
1. Introduction
2. Literature Review / Background
3. Methodology / Theoretical Framework
4. Case Study / Numerical Experiments
5. Results and Discussion
6. Conclusions
Acknowledgments
Data Availability Statement
References
Appendix (if needed)
```

### 8.2 中文核心论文结构

```
题名
作者 单位
摘要 (200-300字)
关键词 (3-8个)
中图分类号 文献标志码
引言
1 方法/理论
2 模型/算法
3 案例验证
4 结果与讨论
5 结论
参考文献
英文标题、作者、摘要、关键词
```

### 8.3 发明专利结构

```
（一）技术领域 (50-100字，三级分类)
（二）背景技术 (500-800字，3-5个现有技术缺陷)
（三）发明内容
    - 所要解决的技术问题
    - 技术方案
    - 有益效果
（四）附图说明 (至少3幅图)
（五）具体实施方式 (2000-4000字，含完整实施例)
（六）权利要求书 (8-15项)
    - 独立权利要求：前序+特征两段式
    - 从属权利要求：逐层细化
（七）摘要 (150-300字)
```

### 8.4 书稿章节结构

```
第X章 章标题

[章首导言 200-500字]

X.1 节标题
  X.1.1 小节
  ...

[核心概念框/定义框/定理框]
[算例/案例]
[本章小结]
[思考题] (教材类)
参考文献 (学术专著类)
```

### 8.5 技术报告结构

```
封面（项目名称、编号、编制单位、日期）
修订记录
执行摘要
目录
1 项目概况
2 技术方案
3 实施过程
4 成果分析
5 结论与建议
附录
参考文献
```

### 8.6 技术标准结构

```
封面
目次
前言
1 范围
2 规范性引用文件
3 术语和定义
4 总则/一般规定
5-N 技术要求各章
附录A (规范性) 测试方法
附录B (资料性) 示例
参考文献 (资料性)
```

---

## 9. 引用与自引管理

### 9.1 自引率目标

| 文体 | 自引率范围 | 说明 |
|------|-----------|------|
| SCI | 15-25% | 体系内互引 + 已发表Lei2025a-d |
| CN | 10-20% | 合理引用前期成果 |
| PAT | 不适用 | 背景技术不刻意自引 |
| BK | 3-15% | 按章节性质灵活控制 |
| STD | 不适用 | 引用已颁布标准 |

### 9.2 必引文献库

**经典文献**：Wiener 1948, Kalman 1960, Wylie 1969, Malaterre 1998, Buyalski 1991, VanOverloop 2006, Litrico & Fromion 2009

**Lei 代表作（已发表）**：Lei 2025a (水网自主调控), Lei 2025b (CHS基本理论), Lei 2025c (在环测试体系), Lei 2025d (水资源系统分析)

---

## 10. 图表与公式处理

### 10.1 图表规范

- 所有图表必须有编号和标题，必须在正文中被引用
- SCI论文：图表标题用英文，字号≥8pt
- 中文论文/书稿：图表标题中英双语
- 专利：附图说明中每个附图标记必须在说明书中有对应

### 10.2 公式规范

- 所有独立公式必须编号（右对齐）
- 正文中引用公式用"式(X)"或"Eq.(X)"
- 变量首次出现必须定义
- 矩阵用粗体大写，向量用粗体小写，标量用斜体
- 公式推导不跳步，关键中间步骤保留

### 10.3 AI图表生成提示词格式

```
[FIGURE-ID: fig_XX]
[TYPE: 系统架构图/流程图/数据曲线/对比柱状图/示意图]
[DESCRIPTION: 详细描述图表内容]
[KEY ELEMENTS: 列出必须包含的元素]
[STYLE: 学术论文风格/教材插图风格/专利附图风格]
```

---

## 11. 批量写作策略

### 11.1 批次规划

按依赖关系分批：
```
Batch 1: 基础理论文档（无依赖）
Batch 2: 方法论文档（依赖Batch 1）
Batch 3: 实验验证文档（依赖Batch 1+2）
Batch 4: 工程应用文档（依赖Batch 1+2+3）
```

### 11.2 全局审计

每个批次完成后执行：
1. 跨文档一致性检查（§6）
2. 创新点重叠度检查（不同文档创新点不应超过30%重叠）
3. 引用网络完整性检查
4. 术语一致性检查（§5）

---

## 12. 错误处理

| 异常情况 | 处理方式 |
|---------|---------|
| web_search无法访问 | 基于已有知识继续，标注"待补充检索验证" |
| 评审分数始终无法达标 | 超出上限后输出当前最好版本 + 问题清单 |
| 用户规格不完整 | 询问缺失信息或基于同类文档合理推断 |
| 跨文档一致性冲突 | 以先完成的文档为准，提示用户确认 |
| 会话token接近上限 | 保存当前进度，提示开新会话 |

---

## 13. 使用方式

### 13.1 Claude Code

将本SKILL.md放入工作目录即可：
```bash
cd ~/my-project
claude
> 开始SCI-P1a
```

### 13.2 claude.ai 网页

新对话中提供本文件核心内容 + 文档规格 + 进度状态即可。

### 13.3 最简操作

1. `开始[类型][编号]` — 启动写作
2. `继续` — 推进下一个
3. 不满意就说"重新评审"或"针对XX问题修改"

---

## 附录：评审评分汇总模板

```
═══════════════════════════════════════
文档: [编号] v[版本号]  |  类型: [SCI/CN/PAT/BK/RPT/STD]
评审轮次: 第[N]轮
═══════════════════════════════════════

[角色1] 决定/评分: [值]  关键意见: [摘要]
[角色2] 决定/评分: [值]  关键意见: [摘要]
[角色3] 决定/评分: [值]  关键意见: [摘要]
[角色4] 决定/评分: [值]  关键意见: [摘要]

综合判定: [达标/未达标]  |  综合评分: [值]
下一步: [进入修改v{N+1} / 保存终稿 / 标记人工审核]
═══════════════════════════════════════
```
